name: All In One

on:
  schedule:
    - cron: 0 16 * * 1
  workflow_dispatch:
    inputs:
      trigger:
        description: Manually trigger
        required: true
        type: choice
        options:
          - build

jobs:
  alpine:
    uses: ./.github/workflows/.earthly.yaml
    secrets: inherit
    with:
      build-dir: alpine

  aria2:
    concurrency: alpine
    needs:
      - alpine
    uses: ./.github/workflows/.earthly.yaml
    secrets: inherit
    with:
      build-dir: aria2
  asuswrt-merlin-build:
    concurrency: alpine
    needs:
      - alpine
    uses: ./.github/workflows/.earthly.yaml
    secrets: inherit
    with:
      build-dir: asuswrt-merlin-build
  bandwagonmon:
    concurrency: alpine
    needs:
      - alpine
    uses: ./.github/workflows/.earthly.yaml
    secrets: inherit
    with:
      build-dir: bandwagonmon
  caddy:
    concurrency: alpine
    needs:
      - alpine
    uses: ./.github/workflows/.earthly.yaml
    secrets: inherit
    with:
      build-dir: caddy
  clash-meta:
    concurrency: alpine
    needs:
      - alpine
    uses: ./.github/workflows/.earthly.yaml
    secrets: inherit
    with:
      build-dir: clash-meta
  confluence:
    concurrency: alpine
    needs:
      - alpine
    uses: ./.github/workflows/.earthly.yaml
    secrets: inherit
    with:
      build-dir: confluence
  container-cli:
    concurrency: alpine
    needs:
      - alpine
    uses: ./.github/workflows/.earthly.yaml
    secrets: inherit
    with:
      build-dir: container-cli
  ddns:
    concurrency: alpine
    needs:
      - alpine
    uses: ./.github/workflows/.earthly.yaml
    secrets: inherit
    with:
      build-dir: ddns
  demo:
    concurrency: alpine
    needs:
      - alpine
    uses: ./.github/workflows/.earthly.yaml
    secrets: inherit
    with:
      build-dir: demo
  derper:
    concurrency: alpine
    needs:
      - alpine
    uses: ./.github/workflows/.earthly.yaml
    secrets: inherit
    with:
      build-dir: derper
  dnsacme:
    concurrency: alpine
    needs:
      - alpine
    uses: ./.github/workflows/.earthly.yaml
    secrets: inherit
    with:
      build-dir: dnsacme
  dockerhub:
    concurrency: alpine
    needs:
      - alpine
    uses: ./.github/workflows/.earthly.yaml
    secrets: inherit
    with:
      build-dir: dockerhub
  idgen:
    concurrency: alpine
    needs:
      - alpine
    uses: ./.github/workflows/.earthly.yaml
    secrets: inherit
    with:
      build-dir: idgen
  jira:
    concurrency: alpine
    needs:
      - alpine
    uses: ./.github/workflows/.earthly.yaml
    secrets: inherit
    with:
      build-dir: jira
  makeself:
    concurrency: alpine
    needs:
      - alpine
    uses: ./.github/workflows/.earthly.yaml
    secrets: inherit
    with:
      build-dir: makeself
  nginx-singlepage:
    concurrency: alpine
    needs:
      - alpine
    uses: ./.github/workflows/.earthly.yaml
    secrets: inherit
    with:
      build-dir: nginx-singlepage
  nodebuild:
    concurrency: alpine
    needs:
      - alpine
    uses: ./.github/workflows/.earthly.yaml
    secrets: inherit
    with:
      build-dir: nodebuild
  notibot:
    concurrency: alpine
    needs:
      - alpine
    uses: ./.github/workflows/.earthly.yaml
    secrets: inherit
    with:
      build-dir: notibot
  open-vm-tools:
    concurrency: alpine
    needs:
      - alpine
    uses: ./.github/workflows/.earthly.yaml
    secrets: inherit
    with:
      build-dir: open-vm-tools
  openjdk:
    concurrency: alpine
    needs:
      - alpine
    uses: ./.github/workflows/.earthly.yaml
    secrets: inherit
    with:
      build-dir: openjdk
  osarch:
    concurrency: alpine
    needs:
      - alpine
    uses: ./.github/workflows/.earthly.yaml
    secrets: inherit
    with:
      build-dir: osarch
  poetbot:
    concurrency: alpine
    needs:
      - alpine
    uses: ./.github/workflows/.earthly.yaml
    secrets: inherit
    with:
      build-dir: poetbot
  s2h:
    concurrency: alpine
    needs:
      - alpine
    uses: ./.github/workflows/.earthly.yaml
    secrets: inherit
    with:
      build-dir: s2h
  ssh:
    concurrency: alpine
    needs:
      - alpine
    uses: ./.github/workflows/.earthly.yaml
    secrets: inherit
    with:
      build-dir: ssh

